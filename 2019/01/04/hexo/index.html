<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="记录学习的过程">
    <meta name="keyword" content="">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="/image/header.jpg">
    <link rel="alternate" type="application/atom+xml" title="Joeysh" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        使用hexo+Anisina+github搭建个人博客｜Joeysh&#39;s blog
        
    </title>
    <link rel="canonical" href="https://joeysh.top/2019/01/04/hexo/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">
	
	  
    <link rel="stylesheet" href="/css/algolia.css">
    <script src="/js/algolia.js"></script>
    <script src="/js/instantsearch.min.js"></script>
  
    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('/image/header.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost="true" data-istags="false
" data-ishome="false">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Joeysh
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
					<li>
                        
							</li><li>
						 <a href="#search" class="popup-trigger">
						   <i class="fa fa-search"></i>
						 </a>
					   </li>
					 
                    
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
							
                        <li>
                            <a href="/my-works/">my works</a>
                        </li>
							
						
                    
                        
							
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

  <div class="site-search">
    <div class="algolia-popup popup">
      <div class="algolia-search">
        <div class="algolia-search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <div class="algolia-search-input" id="algolia-search-input"></div>
      </div>
      <div class="algolia-results">
        <div id="algolia-stats"></div>
        <div id="algolia-hits"></div>
        <div id="algolia-pagination" class="algolia-pagination"></div>
      </div>
      <span class="popup-btn-close">
        <i class="fa fa-times-circle"></i>
      </span>
    </div>
  </div>


<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img" src="null/image/hexo/hexo.jpg">


<style>
    
    header.intro-header {
        background-image: url('/image/hexo/hexo.jpg?imageView2/1/w/1400/h/400/interlace/1/q/90')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>使用hexo+Anisina+github搭建个人博客</h1>
                    
                    <h2 class="subheading">本文描述了本人在使用hexo+Anisina搭建个人博客的详细过程，并记录了自己在过程中踩过的一些坑，希望能给大家带来帮助</h2>
                    
                    <span class="meta">
                         作者 Joeysh
                        <span>
                          日期 2019-01-04
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#教程" title="教程">教程</a>
                        
                        <br><span id="busuanzi_container_page_pv" style="display:none;">阅读量：<span id="busuanzi_value_page_pv"></span>次</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            使用hexo+Anisina+github搭建个人博客
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>   这是本人的最新博客，也是刚刚搭建起来的，过程中还是遇到了很多的坑，自己也对Anisina这个主题进行了一些更改，希望能够帮到大家，然后有兴趣的可以自己尝试进行搭建，话不多说，开始吧！</p>
<h1 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h1><p><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>是一个是基于node.js的快速、简洁且高效的博客框架，<a href="https://haojen.github.io/2017/05/09/Anisina-%E4%B8%AD%E6%96%87%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Anisina</a>是一个hexo的主题，简洁，明了，这也是本人选择这个主题的原因。</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>可以参考<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>的官网，对应环境需要node和git我也不再多说，参考官方教程完成<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>的安装；</p>
<p><a href="https://haojen.github.io/2017/05/09/Anisina-%E4%B8%AD%E6%96%87%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Anisina</a>的安装也请参考官方的教程,下面我要说的是关于<a href="https://haojen.github.io/2017/05/09/Anisina-%E4%B8%AD%E6%96%87%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Anisina</a>的配置文件；</p>
<h2 id="Anisina的配置"><a href="#Anisina的配置" class="headerlink" title="Anisina的配置"></a>Anisina的配置</h2><p>打开 _config.yml进行修改：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#这是基本的配置 看名字也能看出含义 也可以参考官方解释</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Joeysh</span> <span class="comment"># your blog title name</span></span><br><span class="line"><span class="attr">subtitle:</span>  </span><br><span class="line"><span class="attr">author:</span> <span class="string">Joeysh</span> <span class="comment"># 作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line"><span class="attr">SEOTitle:</span> <span class="string">Joeysh's</span> <span class="string">blog</span> <span class="comment">#标题，也就是博客左上角的那个</span></span><br><span class="line"><span class="attr">header-img:</span> <span class="string">/image/header.jpg</span>  <span class="comment">#我是自己建的文件夹放入的文件，待会会说怎么弄的</span></span><br><span class="line"><span class="attr">email:</span> </span><br><span class="line"><span class="attr">description:</span> <span class="string">"记录学习的过程"</span></span><br><span class="line"><span class="attr">keyword:</span> <span class="comment"># seo key words</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/image/header.jpg</span> <span class="comment">#如key所示</span></span><br></pre></td></tr></table></figure>
<h2 id="侧边栏"><a href="#侧边栏" class="headerlink" title="侧边栏"></a>侧边栏</h2><p>现在我来说说侧边栏的配置:<br><br></p>
<p><img src="侧边栏.jpg" width="150" height="260" alt="侧边栏" align="center"><br><br></p>
<p>首先说说图片吧，Anisina是对七牛有支持的，但我没弄，使用的是本地的方式，本地使用的方式：</p>
<pre><code>进入博客的根目录下中的source文件夹中，建立一个文件夹，随您取名img或者image，您开心就好。
然后把图片放入其中，取图片的时候使用项目的绝对路径，加入文件夹的名称是img，您用图片的时候
只需要/img/xxx.jpg,这样的方式就可以取到。
</code></pre><p>我们继续来说侧边栏，以下是侧边栏的配置：<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">sidebar-about-description:</span> <span class="string">"创造价值，赢得尊重"</span> <span class="comment"># 个人描述</span></span><br><span class="line"><span class="attr">sidebar-avatar:</span> <span class="string">/image/header.jpg</span>    <span class="comment"># 头像，图片就是使用的上面说的那种方式配置的</span></span><br><span class="line"><span class="attr">zhihu_username:</span> <span class="string">Joeysh</span> <span class="comment"># 这是下载主题下来文件里面就有的，只需要配上您各个社交账户的名称就可以，当您点击对应的头像的时候，会自动的通过接口的方式定位到您的账户页面</span></span><br><span class="line"><span class="attr">github_username:</span> <span class="string">joeyangsh</span> </span><br><span class="line"><span class="comment">#下面是关于标签的配置，之前我就存在标签不显示的情况，他这个好像默认是1，改成0就可以了</span></span><br><span class="line"><span class="attr">featured-tags:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">featured-condition-size:</span> <span class="number">0</span></span><br><span class="line"><span class="comment">#如题所示，注意使用json的方式</span></span><br><span class="line"><span class="attr">friends:</span> <span class="string">[</span></span><br><span class="line">	<span class="string">&#123;</span></span><br><span class="line">		<span class="attr">title:</span> <span class="string">"掘金"</span><span class="string">,</span></span><br><span class="line">		<span class="attr">href:</span> <span class="string">"https://juejin.im/user/5b854099f265da433874ee02"</span></span><br><span class="line">	<span class="string">&#125;,</span></span><br><span class="line">	<span class="string">&#123;</span></span><br><span class="line">		<span class="string">其他的按照上面的方式进行配置...</span></span><br><span class="line">	<span class="string">&#125;</span></span><br><span class="line"><span class="string">]</span></span><br></pre></td></tr></table></figure></p>
<p>这样过后侧边栏的配置就完成了，也就是我这个显示的样子。</p>
<h2 id="顶部"><a href="#顶部" class="headerlink" title="顶部"></a>顶部</h2><p>创建一个 Tags 导航页面</p>
<ul>
<li>运行命令:hexo new page “Tags” , 这会在博客的 source 目录下生成一个名为 Tags 的文件夹, 里面会有一个 index.md 格式的页面,如果没有请手动创建.</li>
<li>然后打开 yourblog/source 文件夹 , 找到 Tags/index.md 这个文件, 然后设置在两条的—里面, 指定一个 layout: tags值.注意 key 和 value 之间的空格</li>
<li>然后运行命令,重新生成博客内容: hexo clean &amp;&amp; hexo g , 然后可以运行 hexo serve 在本地查看效果<br><br></li>
</ul>
<p><img src="tags.jpg" alt="tag" align="center"><br><br></p>
<p>这样tag的标签就完成啦，再说说my work同样的：</p>
<ul>
<li>运行命令:hexo new page “my-works” , 这会在博客的 source 目录下生成一个名为 my-works 的文件夹, 里面会有一个 index.md 格式的页面,如果没有请手动创建.</li>
<li>然后打开 yourblog/source 文件夹 , 找到 my-works/index.md 这个文件, 然后设置在两条的—里面, 指定一个 layout: works值.注意 key 和 value 之间的空格</li>
<li>然后运行命令,重新生成博客内容: hexo clean &amp;&amp; hexo g , 然后可以运行 hexo serve 在本地查看效果<br><br></li>
</ul>
<p><img src="work.jpg" alt="tag" align="center"><br><br><br>但是这样的话您打开里面是没有什么内容的，下面我在说说关于内容：</p>
<ul>
<li>进入yourblog/source，建立一个文件夹，名字是_data，注意下划线哦</li>
<li>然后在里面建立一个文件，名为：project.json</li>
<li>然后…在里面配置就好了。放心，我会说怎么配置的</li>
</ul>
<p>下面的就是配置：<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"一段话"</span>: &#123;</span><br><span class="line">		<span class="attr">"title"</span>: <span class="string">"这是一个标题"</span>,</span><br><span class="line">		<span class="attr">"subTitle"</span>: <span class="string">"这是一个副标题"</span>,</span><br><span class="line">		<span class="attr">"img_link"</span>: <span class="string">" "</span>,</span><br><span class="line">		<span class="attr">"use"</span> : [<span class="string">"java"</span>],</span><br><span class="line">		<span class="attr">"link"</span>: <span class="string">""</span>,</span><br><span class="line">		<span class="attr">"data"</span>:<span class="string">"2019.01-01"</span>,</span><br><span class="line">		<span class="attr">"direction"</span>: <span class="string">"关于work的一个测试"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"一段话2"</span>: &#123;</span><br><span class="line">		<span class="attr">"title"</span>: <span class="string">"这是一个标题2"</span>,</span><br><span class="line">		<span class="attr">"subTitle"</span>: <span class="string">"基于 这是一个副标题2"</span>,</span><br><span class="line">		<span class="attr">"img_link"</span>: <span class="string">""</span>,</span><br><span class="line">		<span class="attr">"use"</span> : [<span class="string">"java"</span>,<span class="string">"mysql"</span>,<span class="string">"spring"</span>],</span><br><span class="line">		<span class="attr">"link"</span>: <span class="string">""</span>,</span><br><span class="line">		<span class="attr">"data"</span>: <span class="string">"2018.01-01"</span>,</span><br><span class="line">		<span class="attr">"direction"</span>:</span><br><span class="line">			<span class="string">"关于work的一个测试"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>就跟文件名的后缀一样，使用的依然是json的方式，至于里面字段的含义，我想我不需要多说了吧，到此，头部的就完成了，大家去试试吧！</p>
<h2 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h2><p>大家创建完tags导航页面后里面是没有标签的，它的标签是根据文章里面设置的标签生效的，下面说说文章的头部：</p>
<p>创建一条博文</p>
<pre><code>hexo new &quot;your-post-name&quot;
</code></pre><p>在创建好的文章的头部加入以下配置：</p>
<pre><code>---
layout: post
title:  hi 2019
subtitle: &apos;hi, I&apos;&apos;m Joeysh&apos;
author: Joeysh
header-img: &apos;&apos;
cdn: header-on
tags:
  - java
  - mysql
date: 2019-01-01 00:00:00
---
</code></pre><p>上面的tags里面就是到时候tags里面的标签。</p>
<h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>添加 <a href="https://www.livere.com/" target="_blank" rel="noopener">来比力</a> 评论系统,首先需要大家去注册，然后安装，选择免费版的，中间的过程就省略了，最后来到以下界面：<br><br></p>
<p><img src="来必力.jpg" alt="tag" align="center"><br><br><br>复制图中圈起来的uid来到您的_config.yml进行以下配置：<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">use_livere:</span> <span class="string">ture</span></span><br><span class="line"><span class="attr">livere_uid:</span> <span class="string">your</span> <span class="string">uid</span></span><br></pre></td></tr></table></figure></p>
<p>这样评论就添加完毕了！</p>
<h1 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h1><p>对这个主题我参考网上的资料也进行了一些扩展，可能大家最明显的就是感觉到了有了搜索，文章阅读量和网站的访问量了，下面我就说说怎么扩展的，Are you ready?</p>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><p>   这是我参考别人做好的方式进行扩展和设置的，<a href="https://khiav223577.github.io/blog/2017/08/15/hexo-%E4%B8%8A%E5%AF%A6%E7%8F%BE%E6%90%9C%E5%B0%8B%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/" target="_blank" rel="noopener">原文</a>中写的还是很详细，大家可以去看一下，当然我这里也会说我配置扩展的过程：<br>   我这里是依赖的<a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia</a>,主要的原因是它是免费的。这是一个外部服务,在您使用所有的时候会调用外部的服务，由外部服务返回结果并展示，下面就说一下过程：<br>   <br></p>
<p>首先进入<a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">hexo-algolia</a>按照指示进行安装完毕。<br>同样的您要去<a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia</a>注册并创建您的APPs，下面说一下步骤：</p>
<ul>
<li>首先进入 <a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia</a>注册，这我就不说了；</li>
<li>进入控制台，在控制台的头部会有以下的样式；<br><img src="Algolia-header.jpg"></li>
<li><p>因为我这里已经更改了，所以是免费的，但是新注册的用户注册后的 14 天内拥有所有功能（包括收费类别的）之后若未续费会自动降级为免费账户，免费账户 总共有 10,000 条记录，每月有 100,000 的可以操作数；</p>
<ul>
<li>在indices中新添加一个index，名字可以随意取，但是后面需要用到；</li>
<li><p>打开左侧的API KEYS</p>
<p> <img src="Algolia-console.jpg"></p>
</li>
<li><p>先打开以下界面<br></p>
<p> <img src="Algolia-all.jpg"></p>
</li>
</ul>
</li>
<li>编辑对应的记录，得到以下的样式<br>  <img src="Algolia-alert.jpg"><br></li>
</ul>
<p>这样创建就完成了。<br>接下来是修改配置文件了，打开您的_config.yml添加以下配置：<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line"><span class="attr">applicationID:</span> <span class="string">"your Application ID"</span></span><br><span class="line"><span class="attr">apiKey:</span> <span class="string">"your Search-Only API Key"</span></span><br><span class="line"><span class="attr">adminApiKey:</span> <span class="string">"your Admin API Key"</span></span><br><span class="line"><span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line"><span class="attr">indexName:</span> <span class="string">"输入刚才创建index name"</span></span><br></pre></td></tr></table></figure></p>
<p>配置完成了，接下来我们要修改主题中的元素了，首先就添加顶部的搜索按钮。<br>打开themes/Anisina/layout/_partial/nav.ejs<br><br>1、在ul标签中加入以下内容：<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">config.algolia</span>)&#123; %&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#search"</span> <span class="attr">class</span>=<span class="string">"popup-trigger"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-search"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">li</span>&gt;</span>/</span><br></pre></td></tr></table></figure></p>
<p>2、添加搜索弹出的model框，同样是themes/Anisina/layout/_partial/nav.ejs，在最下面加上以下代码<br></p>
<pre><code class="html"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">config.algolia</span>){ %&gt;</span>
    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"site-search"</span>&gt;</span>
        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"algolia-popup popup"</span>&gt;</span>
        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"algolia-search"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"algolia-search-input-icon"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-search"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>
            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"algolia-search-input"</span> <span class="attr">id</span>=<span class="string">"algolia-search-input"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"algolia-results"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"algolia-stats"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"algolia-hits"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"algolia-pagination"</span> <span class="attr">class</span>=<span class="string">"algolia-pagination"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"popup-btn-close"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-times-circle"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">span</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
<span class="tag">&lt;<span class="name">%</span> } %&gt;</span>
</code></pre>
<p>3、将下面的js和scc分别添加到<br><br>themes/Anisina/source/js<br><br>themes/Anisina/source/css<br><br>js文件：</p>
<ul>
<li><a href="js/instantsearch.min.txt">instantsearch.min.js</a></li>
<li><a href="js/algolia.txt">algolia.js</a></li>
</ul>
<p>css文件：</p>
<ul>
<li><a href="css/algolia.txt">algolia.css</a></li>
</ul>
<p>引入js和css文件：<br>themes/Anisina/layout/_partial/head.ejs，在head标签里面添加以下内容；</p>
<pre><code>&lt;% if (config.algolia){ %&gt;
&lt;%- css(&apos;css/algolia&apos;) %&gt;
&lt;%- js(&apos;js/algolia&apos;) %&gt;
&lt;%- js(&apos;js/instantsearch.min&apos;) %&gt;
&lt;% } %&gt;
</code></pre><p>到现在，搜索的扩展大部分已经完成了，还有最后一步：</p>
<p>打开刚刚添加的algolia.js文件,找到下面的地方进行修改:</p>
<p><img src="js.jpg"></p>
<p>最后，回到bolg的根目录，在source文件夹下的image里面添加以下图片：</p>
<p><img src="algolia_logo.jpg"></p>
<p>当然，假如您的图片文件不是叫这个名字话需要您在algolia.js文件中修改以下地方为您的图片文件名称：</p>
<p><img src="logo.jpg"></p>
<p>至此，搜索的扩展就完成了，下面再说说使用吧；</p>
<p>对了还有一个操作,不做的话运行hexo algolia会出现以下的问题：</p>
<pre><code>ERROR [Algolia] Please set an `HEXO_ALGOLIA_INDEXING_KEY` environment variable to enable content indexing.
ERROR &gt;&gt; Read https://npmjs.com/hexo-algolia#api-key for more informations.
</code></pre><p>这个时候需要进行以下的设置：</p>
<pre><code>export(windows 为 set)HEXO_ALGOLIA_INDEXING_KEY=您的Search-Only API key
set(Mac为git，bash为export) HEXO_ALGOLIA_INDEXING_KEY可以查看时候设置成功
</code></pre><p>然后更新索引：</p>
<pre><code>hexo algolia
</code></pre><p>如果更新不成功，请clean一下继续，</p>
<p>出现以下情况为更新成功：</p>
<p><img src="success.jpg"></p>
<p>若出现Algolia搜索栏但是无法跳转到搜索结果，请运行以下代码：</p>
<pre><code>npm install hexo-algolia@0.2.0
</code></pre><p>然后在站点配置中找到package.json， 把里面的hexo-algolia， 換成 “hexo-algolia”: “^0.2.0”;</p>
<p>这样搜索的功能也就彻底的完成了，可以前往<a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia</a>的索引处查看更新的索引信息。</p>
<p>以上配置过程参考的文章：</p>
<pre><code>https://www.jianshu.com/p/00f4bc425249
https://juejin.im/post/5af3f9d1518825673e35a6eb
</code></pre><h2 id="统计量"><a href="#统计量" class="headerlink" title="统计量"></a>统计量</h2><p>在搜索完成过后接下来该说说网站下面的访问量、访客和文章的阅读量是怎样扩展的了:</p>
<p>这里使用的是<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子</a>提供的阅读统计功能:</p>
<p>进入主题下的layout/_partial/footer.ejs</p>
<p>添加以下代码：</p>
<pre><code>&lt;span id=&quot;busuanzi_container_site_pv&quot;&quot; style=&quot;font-size: 12px;display:none;&quot;&gt;总访问量：&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次&lt;/span&gt;
&lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;
&lt;span id=&quot;busuanzi_container_site_uv&quot; style=&quot;font-size: 12px;display:none;&quot;&gt;总访客：&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人&lt;/span&gt;
</code></pre><p>对了，忘说位置了，搜索class=”copyright text-muted”的一个标签中，还有在地步的位置添加以下代码：</p>
<pre><code>&lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;
</code></pre><p>这样，访问量和访客就完成了；</p>
<p>下面就文章的阅读量：<br>进入主题下的layout/post.ejs</p>
<p>搜索class=”tags text-center”，在以下位置进行配置：</p>
<p><img src="read.jpg"></p>
<pre><code>&lt;br/&gt;&lt;span id=&quot;busuanzi_container_page_pv&quot; style=&quot;display:none;&quot;&gt;阅读量：
&lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;次&lt;/span&gt;
</code></pre><p>现在我的扩展也就全部完成了；</p>
<p>其实我也想弄头部的archive，按照时间进行归档，但是我没弄出来，希望有弄出来的朋友可以跟我说一下，我也没去研究了。</p>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>到现在，不知道您的博客是否达到了您希望的效果，如果可以的话，接下来我就在说说部署吧！</p>
<p>我这里使用的是 <a href="https://github.com/" target="_blank" rel="noopener">github</a> ,首先需要您来到以下界面创建一个仓库：</p>
<p><img src="github.jpg"></p>
<p>这里我需要说一下仓库的名称，这里需要是您的github名称加上 .github.io</p>
<p>就像我的需要是 Joeyangsh.github.io，这是github规定的，表达式是这样</p>
<pre><code>{username}.github.io
</code></pre><p>所以仓库的名字需要是这样的。</p>
<p>创建成功过后进入仓库，来到以下界面：</p>
<p><img src="githead.jpg"><br><img src="gitpage.jpg"></p>
<p>找到GitHub Pages点击change theme选个主题select theme设置模板,<br>等待github pages创建完成，然后输入您创建的地址,也就是您的仓库名称</p>
<pre><code>yourName.github.io
</code></pre><p>测试github pager是否创建成功。此时页面是空的没有任何东西。</p>
<p><img src="404.jpg"></p>
<p>下面要做的就是配置；</p>
<p>打开您的_config.yml修改以下配置：</p>
<pre><code>deploy:
     type: git  
     repo: 
   github: your address #您的仓库地址
branch: master #提交的分支
</code></pre><p>仓库地址查看：</p>
<p><img src="address.jpg"></p>
<p>配置完毕后使用以下命令，部署到github：</p>
<pre><code>hexo clean
hexo g
hexo s #先本地输入地址查看一下是否是自己满意的ctrl+c结束
hexo d #部署到远处仓库
</code></pre><p>当然您也可以不存在本地查看，直接执行以下命令：</p>
<pre><code>hexo g --d #直接生成静态资源并推送部署到远程仓库
</code></pre><p>这个时候会出现以下错误：</p>
<pre><code>ERROR Deployer not found: git。
</code></pre><p>需要安装 hexo-deployer-git，执行以下命令</p>
<pre><code>npm install hexo-deployer-git --save
</code></pre><p>再次推送</p>
<pre><code>hexo d
</code></pre><p>就成功了，在浏览器的地址栏输入您gitgub的访问地址就能访问到您的博客了。<br>对了再提醒一句，当您完成一篇博客的时候别忘了搜索哦，需要更新索引库执行以下命令：</p>
<pre><code>hexo algolia
</code></pre><p>这个时候您的博客就能被访问了，当然您也可以自己注册域名进行绑定，下面我在说说github的自定义域名吧。</p>
<h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>我是在<a href="https://wanwang.aliyun.com/?spm=5176.8142029.735711.62.66e26d3e4AVJDr" target="_blank" rel="noopener">阿里云</a>注册的域名,至于注册域名的流程我就不再讲了，网上有很多的教程，域名注册完成后来到域名控制台：</p>
<p><img src="a.jpg"><br>点击解析，进入解析界面，添加域名解析：</p>
<p>分别添加以下两条记录：</p>
<p><img src="b.jpg"><br><img src="c.jpg"></p>
<p>以下是完成后的页面：</p>
<p><img src="d.jpg"></p>
<p>到现在，域名解析也添加完毕了，10分钟左右就会起效。</p>
<p>可以前往<a href="http://www.ip138.com/?spm=a2c4e.11153940.blogcont228297.13.4b4ca9cbTfwHgZ" target="_blank" rel="noopener">这里</a>查看是否生效。</p>
<p>然后进入博客的根目录，在souce目录下建立一个名为CNAME的文件，没有后缀的哦，进入文件在里面添加您注册的域名：</p>
<pre><code>假如您的域名是aaa.com那么只需要在里面添加一条
aaa.com
</code></pre><p>然后从新部署一次，再次使用您的域名访问就可以了。</p>
<h2 id="https"><a href="#https" class="headerlink" title="https"></a>https</h2><p>前往github勾选以下内容：</p>
<p><img src="https.jpg"></p>
<p>当您后面不需要使用自己的域名的时候想使用github默认域名的时候只需要把CNAME文件删除再重新部署一次ok了，如果发现部署后访问不了的情况请清一下浏览器的缓存。</p>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>到现在，hexo使用Anisina加上github搭建个人博客的过程就完了，以上内容如果有错误的地方还请各位纠正，本人会及时的更正。</p>

                <hr>
                

                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2019/01/01/mdTest/" data-toggle="tooltip" data-placement="top" title="hi 2019">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
                <!-- 来必力City版安装代码 -->
                <div id="lv-container" data-id="city" data-uid="MTAyMC80MTg4OS8xODQzNQ">
                    <script type="text/javascript">
                        (function(d, s) {
                            var j, e = d.getElementsByTagName(s)[0];

                            if (typeof LivereTower === 'function') { return; }

                            j = d.createElement(s);
                            j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                            j.async = true;

                            e.parentNode.insertBefore(j, e);
                        })(document, 'script');
                    </script>
                    <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
                </div>
                <!-- City版安装代码已完成 -->
                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#起步"><span class="toc-text">起步</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#下载"><span class="toc-text">下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Anisina的配置"><span class="toc-text">Anisina的配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#侧边栏"><span class="toc-text">侧边栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#顶部"><span class="toc-text">顶部</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文章"><span class="toc-text">文章</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#评论"><span class="toc-text">评论</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#扩展"><span class="toc-text">扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#搜索"><span class="toc-text">搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#统计量"><span class="toc-text">统计量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#部署"><span class="toc-text">部署</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#绑定域名"><span class="toc-text">绑定域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#https"><span class="toc-text">https</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#结语"><span class="toc-text">结语</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#教程" title="教程">教程</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="https://juejin.im/user/5b854099f265da433874ee02">掘金</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/Joeysh">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                

                

                
                    <li>
                        <a target="_blank" href="https://github.com/joeyangsh">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Joeysh 2019
                    <br>
                    <span id="busuanzi_container_site_pv" "="" style="font-size: 12px;display:none;">总访问量：<span id="busuanzi_value_site_pv"></span>次</span>
                    <span class="post-meta-divider">|</span>
                    <span id="busuanzi_container_site_uv" style="font-size: 12px;display:none;">总访客：<span id="busuanzi_value_site_uv"></span>人</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://joeysh.top/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>



<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','','2.0.0');
</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="/image/header.jpg">
</body>

</html>
